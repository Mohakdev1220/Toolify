<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Your existing head unchanged -->
</head>

<body>
    <!-- Your existing video + feedback modal unchanged -->
    
    <!-- ✅ NEW: Sidebar Toggle Button for Desktop (appears only on laptop+) -->
    <button class="desktop-toggle" onclick="toggleDesktopSidebar()" aria-label="Toggle Sidebar">◀</button>

    <!-- Your existing sidebar with NEW close button for desktop -->
    <nav class="sidebar" id="sidebar">
        <!-- ✅ NEW: Desktop close button (hidden on mobile) -->
        <button class="desktop-close-btn" onclick="hideDesktopSidebar()">✕</button>
        <button class="close-btn" onclick="toggleMenu()">✕</button>
        <!-- Rest of sidebar unchanged -->
    </nav>

    <!-- Rest of your HTML unchanged -->
</body>

<script type="module">
    // ✅ NEW DESKTOP SIDEBAR FUNCTIONS
    window.toggleDesktopSidebar = () => {
        const sidebar = document.getElementById('sidebar');
        const mainWrapper = document.querySelector('.main-wrapper');
        const desktopToggle = document.querySelector('.desktop-toggle');
        
        if (sidebar.classList.contains('desktop-hidden')) {
            sidebar.classList.remove('desktop-hidden');
            mainWrapper.classList.remove('desktop-expanded');
            desktopToggle.textContent = '◀'; // Show left arrow
        } else {
            sidebar.classList.add('desktop-hidden');
            mainWrapper.classList.add('desktop-expanded');
            desktopToggle.textContent = '▶'; // Show right arrow
        }
    };

    window.hideDesktopSidebar = () => {
        const sidebar = document.getElementById('sidebar');
        const mainWrapper = document.querySelector('.main-wrapper');
        const desktopToggle = document.querySelector('.desktop-toggle');
        
        sidebar.classList.add('desktop-hidden');
        mainWrapper.classList.add('desktop-expanded');
        desktopToggle.textContent = '▶';
    };

    // ✅ UPDATE: Enhanced resize handler
    window.addEventListener('resize', () => {
        const sidebar = document.getElementById('sidebar');
        const mainWrapper = document.querySelector('.main-wrapper');
        
        if (window.innerWidth > 1024) {
            sidebar.classList.remove('active'); // Close mobile overlay
            document.body.style.overflow = '';
            // Preserve desktop state
        } else {
            sidebar.classList.remove('desktop-hidden'); // Reset desktop hide on mobile
            mainWrapper.classList.remove('desktop-expanded');
        }
    });

    // Your existing functions unchanged...
</script>

<style>
    /* ✅ NEW DESKTOP TOGGLE STYLES */
    .desktop-toggle {
        display: none; /* Hidden on mobile */
        position: fixed; top: 20px; left: 20px; z-index: 2500;
        background: rgba(0,242,255,0.9); color: #000; border: none;
        width: 44px; height: 44px; border-radius: 12px; cursor: pointer;
        font-size: 1.2rem; font-weight: 800; box-shadow: 0 8px 25px var(--primary-glow);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .desktop-toggle:hover {
        transform: scale(1.1); background: var(--primary);
        box-shadow: 0 12px 35px var(--primary-glow);
    }

    /* ✅ DESKTOP SIDEBAR HIDE */
    @media (min-width: 1025px) {
        .desktop-toggle { display: flex; align-items: center; justify-content: center; }
        
        .sidebar {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
        }
        
        /* ✅ HIDDEN STATE */
        .sidebar.desktop-hidden {
            transform: translateX(-100%) !important;
            width: 0 !important; padding: 0 !important;
            border-right: none !important; opacity: 0;
        }
        
        .main-wrapper.desktop-expanded {
            margin-left: 0 !important; width: 100% !important;
        }
        
        /* Desktop close button */
        .desktop-close-btn {
            display: flex !important; position: absolute; top: 20px; right: 20px;
            background: rgba(255,0,0,0.2); color: #fff; border: none;
            width: 36px; height: 36px; border-radius: 50%; font-size: 1.2rem;
            align-items: center; justify-content: center; cursor: pointer;
            transition: all 0.3s; opacity: 0.8;
        }
        .desktop-close-btn:hover {
            background: #ff4444; transform: scale(1.1);
        }
        
        /* Hide mobile close button on desktop */
        .close-btn { display: none !important; }
        .menu-toggle { display: none !important; }
    }

    /* ✅ RESET on mobile */
    @media (max-width: 1024px) {
        .desktop-toggle { display: none !important; }
        .desktop-close-btn { display: none !important; }
        .sidebar.desktop-hidden { display: block !important; transform: translate3d(-100%, 0, 0) !important; }
    }

    /* Your existing styles unchanged... */
</style>
